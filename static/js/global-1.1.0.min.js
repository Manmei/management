// 开始日期不大于结束时间，结束时间不小于开始时间，开始日期和结束日期都不大于当前日期。
function DatePicker(beginSelector,endSelector){
    // 仅选择日期
    $(beginSelector).datepicker(
        {
            language:  "zh-CN",
            autoclose: true,
            startView: 0,
            format: "yyyy-mm-dd",
            clearBtn:true,
            todayBtn:false,
            endDate:new Date()
        }).on('changeDate', function(ev)
        {
            if(ev.date){
                $(endSelector).datepicker('setStartDate', new Date(ev.date.valueOf()))
            }else{
                $(endSelector).datepicker('setStartDate',);
            }
        });
    $(endSelector).datepicker(
        {
            language:  "zh-CN",
            autoclose: true,
            startView:0,
            format: "yyyy-mm-dd",
            clearBtn:true,
            todayBtn:false,
            endDate:new Date()
        }).on('changeDate', function(ev)
        {
            if(ev.date){
                $(beginSelector).datepicker('setEndDate', new Date(ev.date.valueOf()))
            }else{
                $(beginSelector).datepicker('setEndDate',new Date());
            }
        });
}
// layui弹窗方法二次封装
function layuiPopup(idname, poptitle, width, heigth, popcontent,fn) {
    $("#" + idname).on('click', function(){
        layer.open({
            title: poptitle,
            type: 1,
            area: [width, heigth],
            skin: 'layui-layer-demo', //样式类名
            anim: 2,
            shadeClose: true, //开启遮罩关闭
            content: popcontent,
            success:fn
        });
    });
}

$(function(){
    // select下拉框
    $(".dropdown-menu li a").on("click",function(){
        var dataValue = $(this).attr("data-value");
        var textValue = $(this).text();
        console.log(textValue);
        // 赋值
        $(this).parent().parent().siblings('.form_hidden_input').val(dataValue);
        $(this).parent().parent().siblings('.dropdown-toggle').children('.true_val').text(textValue);
    });
    /*DatePicker(".date_begin",".date_end");*/
    // 日期选择
    $(".select_date").datepicker({
        keyboardNavigation: false,
        forceParse: false,
        autoclose: true
    });
    // 列表页点击tr的时候，radio选中，并给自己添加z-checked
    $('.table-striped tr').on('click',function () {
        $(this).find('.iradio_square-green').addClass('checked');
        $(this).siblings().find('.iradio_square-green').removeClass('checked');
        $(this).addClass('z-checked').siblings().removeClass('z-checked');
    });
});